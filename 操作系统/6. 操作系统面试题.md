## 1. 僵尸进程和孤儿进程

* 僵尸进程：进程使用fork创建子进程，子进程退出，父进程并没有调用wait或waitpid去回收子进程，那么子进程的进程描述符仍然存在

* 孤儿进程：父进程退出，子进程仍在运行，子进程会被init进程锁收养

* 危害——孤儿进程被init进程收养，不会有什么危害，但是僵尸进程会占用进程号，占用系统资源，僵尸进程一定要处理

* 如何避免
  
  * 父进程一定要手动通过wait或者waitpid等待子进程结束去回收子进程
  
  * 通过信号机制
    
    * 人工kill
    
    * 父进程中加入一条语句：signal(SIGCHLD,SIG_IGN);表示父进程忽略SIGCHLD信号，子进程结束时会向父进程发送SIGCHILD信号，父进程忽略SIGCHILD信号，那么内核会处理，把僵尸子进程转交给init进程去处理

## 2. wait和waitpid区别

* wait是让父进程等待子进程结束，当子进程结束后回收其资源

* waitpid回收指定进程号的子进程，可以设置为阻塞/非阻塞
  
  * pid>0：具体某个子进程
  
  * pid=0：回收当前进程组中所有的子进程
  
  * pid=-1：回收所有子进程，相当于wait
  
  * pid<-1：进程组的组id的绝对值，回收指定进程组中的所有子进程
