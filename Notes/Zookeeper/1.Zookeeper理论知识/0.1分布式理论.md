- [**1. 分布式的特点**](#1-分布式的特点)
- [**2. 分布式环境的各种问题**](#2-分布式环境的各种问题)
- [**3. 分布式理论**](#3-分布式理论)
  - [**3.1 CAP**](#31-cap)
  - [**3.2 BASE理论**](#32-base理论)



### **1. 分布式的特点**

* 分布性

  分布式系统的多台计算机在空间上随意分布

* 对等性

  组成分布式系统的所有计算机节点都是对等的

  **副本**的概念

  * 数据副本

    不同的节点持久化同一份数据，当某一个节点上存储的数据丢失时，可以从副本上读取到该数据

  * 服务副本

    多个节点提供同样的服务，每个节点都有能力接收外部的请求并进行相应的处理

* 并发性

  分布式系统中的一些节点可能会并发地操作一些共享的资源

* 缺乏全局时钟

* 故障总是会发生的







### **2. 分布式环境的各种问题**

* 通信异常

  消息丢失和消息延迟非常普遍

* 网络分区

  网络发生异常情况，导致分布式系统中部分节点之间的网络延时不断增大，最终导致组成分布式系统的所有节点中，只有部分节点之间能够进行正常通信，而另一些节点则不能——这个现象就是网络分区，俗称“脑裂”



### **3. 分布式理论**



####  **3.1 CAP**

一个分布式系统不可能同时满足**一致性**，**可用性**，**分区容错性**，最多只能同时满足其中的两项

分区容错性是分布式系统最基本的要求，一般在一致性和可用性之间寻求平衡

* **一致性C**

  数据在多个副本之间保持一致

  * 强一致性

    在分布式系统中，如果能够对一个数据项的更新操作执行成功后，所有的用户都可以读取到其最新的值，那么该分布式系统就被认为具有强一致性

  * 弱一致性

  * 最终一致性

* **可用性A**

  系统提供的服务必须一直处于可用的状态，对于用户的每一个操作请求总是能够在有限的时间内返回结果

* **分区容错性P**

  分布式系统在遇到任何网络分区故障的时候，仍然能够保持对外提供满足一致性和可用性的服务，除非是整个网络环境都发生了故障



#### **3.2 BASE理论**

Basically Available(基本可用)，Soft state(软状态)，Eventually consistent(最终一致性)

* **核心思想**

  即使无法做到强一致性，但每个应用都可以根据自身的业务特点，采用适当的方式来使系统达到最终一致性

* **基本可用**

  分布式系统出现故障时，允许损失部分可用性

  例如：响应时间上的损失，功能上的损失（服务降级）

* **软状态**

  允许系统在不同节点的数据副本之间进行数据同步的过程存在时延

* **最终一致性**

  系统中所有的数据副本，在经过一段时间的同步后，最终能够达到一个一致的状态（不需要实时保证系统数据的强一致性）