# 9. 哨兵模式

哨兵是一个独立进程，独立运行

**单机哨兵**

![哨兵模式](D:\桌面\Notes\Notes\数据库\Redis\p\哨兵模式.png)

**哨兵集群**

![哨兵集群](D:\桌面\Notes\Notes\数据库\Redis\p\哨兵集群.png)

哨兵有两个作用

* 通过发送命令，让Redis服务器响应，监控Redis服务器运行状态
* 当哨兵检测到master宕机，会选举一个slave作为新的master，然后通过 **发布订阅模式**通知其他从服务器，**修改配置文件**，让旧master和其他slave成为新master的从服务器**（永久更改）**



### 哨兵模式优缺点

* **优点**
  * 哨兵集群，基于主从复制模式，所有主从配置的优点，它都有
  * 主从可以切换，故障可以转移，系统的可用性更好
  * 哨兵模式是主从模式的升级，更加健壮
* **缺点**
  * Redis不方便在线扩容，集群容量一旦达到上限，在线扩容十分麻烦
  * 哨兵模式配置复杂