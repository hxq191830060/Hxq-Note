### 研发规约

* 先落幂等，再做校验

特别场景下，重复请求的校验，可能返回不同的结果，不注意顺序会资损

例如：第一次请求：查询余额，判断余额充足，调用下游支付接口，上游超市抛异常重试，下游按照支付成功推进，此时上游重试时，查询余额，判断余额不足，上游按照失败推进（上下游数据不一致，资损），对于这种场景，查询余额接口也需要幂等



### 服务规约

* 内部服务控制幂等——对外提供的服务，需要有幂等控制

* 外部服务幂等确认——对接外部服务，需要关注其幂等性，是否可重试

* 返回码确认——对接下游或者外部系统，要关注返回码及其语义，明确返回码是否可重试
