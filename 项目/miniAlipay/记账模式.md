三种记账模式
1. 标准记账
最常见的实时记账——交易发生的时候落账务数据，实时更新账户余额，是一种同步记账的方式
2. 缓冲记账
标准记账分为两阶段，两阶段都需要对账户上悲观锁
* 一阶段进行余额检查和资金预留
* 二阶段真正地对账户余额进行更新   

上述的这种方式在热点账户问题下会出问题，所以需要缓冲记账   
* 将热点账户的记账请求落地，生成记账明细，不做余额更新操作，立刻告知上游记账成功
* 定时任务(1分钟一次)异步捞取记账明细进行处理
* 缓冲记账有透支风险，资金流出不适合缓冲记账，但是资金流入适合
  * 对账户充分评估，可以对资金流入、流出都进行缓冲记账
  * 只对账户的资金流入进行缓冲机制，资金流出扔走标准记账（常用）
3. 汇总记账    

缓冲记账也无法满足性能需求时，使用汇总记账  
* 每个记账请求只落凭证，日终时一次性更新余额（只适合内部户或者对余额不敏感的用户）
