数据库层面对于insert有隐式锁，抢到insert隐式锁才能insert，否则阻塞，insert隐式锁在事务提交时释放

如果5个线程开启事务通过insert争夺锁

* 线程A获得insert隐式锁，插入一条记录，执行业务逻辑，不立刻提交事务

* 其他四个线程没有获得insert隐式锁，阻塞，直到下面三种情况才返回
  
  * 线程A提交事务，释放隐式锁，线程获得隐式锁，执行insert操作，由于记录已存在，抛出DuplicateKeyException
  
  * 线程A回滚，释放隐式锁，线程获得隐式锁，执行insert操作，执行业务逻辑
  
  * 超市返回
